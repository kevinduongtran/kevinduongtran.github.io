<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="mobile-web-app-capable" content="yes" />

    <title>Bootstrap demo</title>
    <link rel="stylesheet" href="./css//bootstrap.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css" />

    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <div class="container-fluid">
        <a class="p-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
          <i class="bi bi-play"></i>
        </a>
        <!-- <button class="btn btn-outline-primary p-2" type="button" id="resetDB">RESET</button> -->
        <a class="navbar-brand" href="#">TACMAP</a>
      </div>
    </nav>

    <div class="container">
      <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
        <div class="offcanvas-body">
          <div class="offcanvas-title">TEAMS</div>
          <div class="teams-container">
            <!-- ------------- -->
            <!-- TEAM TEMPLATE -->
            <!-- ------------- -->
            <template class="team-template">
              <div class="team from-template" id="team-{{teamId}}">
                <h2 class="accordion-header">{{teamName}}</h2>
                <div data-bs-parent="#teams-container">
                  <div class="squad-container-{{teamId}} accordion-body ms-4">
                    <!-- -------------- -->
                    <!-- SQUAD TEMPLATE -->
                    <!-- -------------- -->
                    <template class="squad-template-{{teamId}}">
                      <div class="squad mb-2 from-template" id="squad-{{squadId}}">
                        <div class="squad-header">
                          SQUAD {{squadNumber}}
                          <i class="bi bi-box-arrow-in-down-right float-end"></i>
                        </div>
                        <div class="squad-member-container-{{squadId}} squad-member-container ">
                          <!-- --------------- -->
                          <!-- PLAYER TEMPLATE -->
                          <!-- --------------- -->
                          <template class="squad-member-template-{{squadId}}">
                            <div class="squad-member m-3 from-template">{{squadLeaderTag}} {{username}}</div>
                          </template>
                        </div>
                      </div>
                    </template>
                  </div>
                </div>
              </div>
            </template>
          </div>
        </div>
        <footer class="ps-3 pt-2 pb-2">
          <div class="offcanvas-title">Playing As</div>
          <div>
            <h5 class="d-inline align-middle" data-bs-toggle="modal" data-bs-target="#exampleModal" id="username-display"></h5>

            <button class="btn btn-sm btn-outline-primary d-inline float-end me-2" id="disconnect-button" type="button">
              <i class="bi bi-box-arrow-right"></i>
            </button>
            <button class="btn btn-sm btn-outline-primary d-inline float-end me-2" id="log-button" type="button" data-bs-toggle="offcanvas" href="#logOffCanvas" role="button" aria-controls="logOffCanvas">
              <i class="bi bi-code-square"></i>
            </button>
            <button class="btn btn-sm btn-outline-primary d-inline float-end me-2" id="reset-db-button" type="button">
              <i class="bi bi-database-gear"></i>
            </button>
          </div>
        </footer>
      </div>

      <div class="offcanvas offcanvas-start" tabindex="-1" id="logOffCanvas" aria-labelledby="logOffCanvasLabel">
        <div class="offcanvas-header">
          <h5 class="offcanvas-title" id="offcanvasExampleLabel">Offcanvas</h5>
          <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body" id="logTextBody">
          <!-- <textarea class="form-control" id="logTextArea" rows="3"></textarea> -->
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          </div>
          <div class="modal-body">
            <form class="row g-3 needs-validation" novalidate id="loginForm">
              <label for="validationCustomUsername" class="form-label">Username</label>
              <div class="input-group has-validation">
                <input type="text" class="form-control" id="validationCustomUsername" aria-describedby="inputGroupPrepend" required />
                <div class="invalid-feedback">Please choose a username.</div>
              </div>

              <div class="col-12">
                <button type="button" class="btn btn-secondary d-none" data-bs-dismiss="modal" id="close-modal-button">Close</button>
                <button class="btn btn-primary" type="submit" data-dismiss="modal">Save</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Map -->
    <div class="main container-fluid" id="map"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/underscore@1.13.6/underscore-umd-min.js"></script> -->
    <script type="module" src="./js/main.js"></script>
  </body>
</html>
